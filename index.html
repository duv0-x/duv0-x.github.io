<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duv0-x Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
    <h1>duv0_x profile_</h1>
</header>

<div class="container about-container">
    <p>
    <img src="images/x-0vub-small.jpg" alt="Duv0-x">
    </p>
    <p class="about-info">
        <span class="info-label">Name:</span><br>
            DuvÃ¡n BallÃ©n<br><br>
        <span class="info-label">A.k.a:</span><br>
            duv0_x<br><br>
        <span class="info-label">Tech skills:</span><br>
            DevOps, Cloud and Platform engineering.<br><br>
        <span class="info-label">Status:</span><br>
            "Sr Platform Engineer @ Lulo Bank â€” but ping me if you have something exciting."
    </p>
</div>

<div class="container social-networks">
    <h3>> Tech Stack</h3>
    <p>
        <img src="https://img.shields.io/badge/Docker-2496ED?style=flat&logo=docker&logoColor=white" alt="Docker"/>
        <img src="https://img.shields.io/badge/Kubernetes-326CE5?style=flat&logo=kubernetes&logoColor=white" alt="Kubernetes"/>
        <img src="https://img.shields.io/badge/AWS-232F3E?style=flat&logo=amazonwebservices&logoColor=white" alt="AWS"/>
        <img src="https://img.shields.io/badge/GCP-4285F4?style=flat&logo=googlecloud&logoColor=white" alt="GCP"/>
        <img src="https://img.shields.io/badge/Terraform-7B42BC?style=flat&logo=terraform&logoColor=white" alt="Terraform"/>
        <img src="https://img.shields.io/badge/Pulumi-8A3391?style=flat&logo=pulumi&logoColor=white" alt="Pulumi"/>
        <img src="https://img.shields.io/badge/Python-3776AB?style=flat&logo=python&logoColor=white" alt="Python"/>
        <img src="https://img.shields.io/badge/Go-00ADD8?style=flat&logo=go&logoColor=white" alt="Go"/>
        <img src="https://img.shields.io/badge/Shell_Script-121011?style=flat&logo=gnu-bash&logoColor=white" alt="Shell Script"/>
        <img src="https://img.shields.io/badge/GitHub_Actions-2088FF?style=flat&logo=github-actions&logoColor=white" alt="GitHub Actions"/>
        <img src="https://img.shields.io/badge/CircleCI-343434?style=flat&logo=circleci&logoColor=white" alt="CircleCI"/>
        <img src="https://img.shields.io/badge/Git-F05032?style=flat&logo=git&logoColor=white" alt="Git"/>
        <img src="https://img.shields.io/badge/Linux-FCC624?style=flat&logo=linux&logoColor=black" alt="Linux"/>
        <img src="https://img.shields.io/badge/IoT-00979D?style=flat&logo=iot&logoColor=white" alt="IoT"/>
    </p><br>
</div>

<div class="container social-networks" id="duv0x-tv-section">
    <h3>> TV</h3>
    <p id="live-indicator" style="display: none; margin: 5px 0; color: #e06c76; font-size: 8px;">ğŸ”´ LIVE NOW</p>

    <div id="twitch-embed"></div>
    <div id="offline-message" class="offline-placeholder">
        <p>ğŸ“º Channel offline</p>
        <p style="font-size: 8px; margin-top: 5px;">Come back soon to watch the stream</p>
    </div>

    <div class="stream-schedule">
        <h4>Streaming Schedule:</h4>
        <p>
            ğŸ“… Monday - Friday<br>
            ğŸ• 17:30 - 20:00 COT (UTC-05:00)<br><br>
            ğŸ“… Saturdays<br>
            ğŸ• 09:00 - 13:00 COT (UTC-05:00)
        </p>
    </div>
</div>

<div class="container social-networks">
    <h3>> Links</h3>
    <p>ğŸ’¼ <a href="https://www.linkedin.com/in/duvanballen" style="color: #e06c76;">LinkedIn</a> ğŸ§‘ğŸ»â€ğŸ’» <a href="https://github.com/duv0-x" style="color: #98d1cc;">GitHub</a> ğŸ“º <a href="https://twitch.tv/duv0_x" style="color: #9146FF;">Twitch</a></p><br>
</div>

<footer>
    <p>Build with â˜• from Colombia ğŸ‡¨ğŸ‡´</p>
</footer>

<script src="https://embed.twitch.tv/embed/v1.js"></script>
<script>
    let embed;
    let isEmbedInitialized = false;

    // Inicializar el reproductor de Twitch
    function initTwitchEmbed() {
        if (!isEmbedInitialized) {
            embed = new Twitch.Embed('twitch-embed', {
                width: '100%',
                height: 280,
                channel: 'duv0_x',
                layout: 'video',
                autoplay: false,
                parent: ['duv0-x.github.io', 'localhost']
            });
            isEmbedInitialized = true;
        }
    }

    // Verificar si duv0_x estÃ¡ en vivo
    async function checkIfLive() {
        try {
            const response = await fetch('https://decapi.me/twitch/uptime/duv0_x');
            const uptime = await response.text();

            const liveIndicator = document.getElementById('live-indicator');
            const twitchEmbed = document.getElementById('twitch-embed');
            const offlineMessage = document.getElementById('offline-message');

            // Si estÃ¡ en vivo, mostrar reproductor y ocultar mensaje offline
            if (uptime && !uptime.includes('offline') && !uptime.includes('error')) {
                liveIndicator.style.display = 'block';
                twitchEmbed.style.display = 'block';
                offlineMessage.style.display = 'none';

                // Inicializar embed solo si estÃ¡ en vivo
                if (!isEmbedInitialized) {
                    initTwitchEmbed();
                }
            } else {
                liveIndicator.style.display = 'none';
                twitchEmbed.style.display = 'none';
                offlineMessage.style.display = 'block';
            }
        } catch (error) {
            console.log('No se pudo verificar el estado del stream');
        }
    }

    // Verificar al cargar la pÃ¡gina
    checkIfLive();

    // Verificar cada 5 minutos
    setInterval(checkIfLive, 300000);
</script>
</body>
</html>
